digraph kpm {
  graph [fontsize=30 labelloc="t" label="" splines=true overlap=false  bgcolor="#ffffff00" rankdir = "LR"];
  node [style="rounded, filled, bold" shape=box pencolor=black fillcolor="#007fae33"];
  edge [penwidth=2 weight=5];

  kpm [label=Server];
  teaching [label="my teaching api"]
  studies [label="my studies api"]
  crooms [label="my canvas rooms api"]
  browser -> kpm [weight=10];

  node [style="rounded, filled" gradientangle=150 fillcolor="#dddddd88:white"]
  kpm -> teaching -> ug;
  kpm -> studies -> ug;
  edge [weight=3];
  kpm -> crooms -> canvas;

  edge [penwidth=1]
  ug -> Ladok [dir=back];
  canvas -> Ladok [weight=0.2];
  canvas -> Ladok [dir=back weight=0.2];
  pub [ label="my publications api?" color=gray fillcolor=white];
  etc [ label="etc ..." color=gray fillcolor=white];

  diva [ label="diva?" ];
  x [ label = "andra system" ];
  kpm -> pub -> diva [color=gray];
  kpm -> etc -> x [color=gray];

  user [label="Api user" color=gray fontcolor=gray fillcolor=white]
  edge [weight=0 penwidth=1 color=gray]
  user -> kpm [dir=none style=invisible]
  user -> crooms
  user -> teaching
  user -> studies
  user -> pub
  user -> etc
}
